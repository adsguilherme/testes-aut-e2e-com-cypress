# An√°lise est√°tica de c√≥digo

Neste curso, al√©m de testes e2e, voc√™ tamb√©m vai aprender como configurar uma das ferramentas mais utilizadas pela comunidade JavaScript para an√°lise est√°tica de c√≥digo, o [ESLint](http://npmjs.com/package/eslint).

O time do Cypress mant√©m um plugin com recomenda√ß√µes de conven√ß√µes na escrita de testes, o qual pode ser configurado ap√≥s a configura√ß√£o do ESLint propriamente dito.

Portanto, primeiro voc√™ ter√° que configurar o ESLint.

## Exerc√≠cio

1. No terminal de linha de comando, no diret√≥rio `testes-e2e-com-cypress/`, execute o comando `npm install eslint@7.32.0 --save-dev` (ou `npm i eslint@7.32.0 -D` para a vers√£o curta)
2. Logo ap√≥s, execute o comando `npx eslint --init` e escolhas as op√ß√µes que fizerem sentido para voc√™ (se n√£o souber o que escolher, assita a aula onde executo tal comando e veja as op√ß√µes que escolhi, ou ent√£o, simplesmente copie a vers√£o final do meu arquivo `.eslintrc.json`, conforme abaixo)

```json
// .eslintrc.json

{
    "env": {
        "browser": true,
        "commonjs": true,
        "es2021": true,
        "node": true
    },
    "extends": "eslint:recommended",
    "parserOptions": {
        "ecmaVersion": 12
    },
    "rules": {
        "indent": [
            "error",
            2
        ],
        "linebreak-style": [
            "error",
            "unix"
        ],
        "quotes": [
            "error",
            "single"
        ],
        "semi": [
            "error",
            "never"
        ],
        "no-trailing-spaces": [
            "error"
        ]
    }
}
```

## Exerc√≠cio extra 1 - [`eslint-plugin-cypress`](https://www.npmjs.com/package/eslint-plugin-cypress)

1. No terminal de linha de comando, no diret√≥rio `testes-e2e-com-cypress/`, execute o comando `npm install eslint-plugin-cypress@2.11.3 --save-dev` (ou `npm i eslint-plugin-cypress@2.11.3 -D` para a vers√£o curta)
2. Logo ap√≥s, dentro do diret√≥rio `cypress/`, crie outro arquivo chamado `.eslintrc.json` com o seguinte conte√∫do:

```.eslintrc.json
{
  "extends": [
    "plugin:cypress/recommended"
  ]
}
```

## Exerc√≠cio extra 2 - npm scripts

Agora que o ESLint est√° configurado, √© hora de criar scripts para validar o c√≥digo est√°ticamente, al√©m de corrigir erros automaticamente (quando poss√≠vel).

1. No arquivo `package.json`, crie um script chamado `lint` com o valor `eslint cypress/**/*.js`
2. Ainda no mesmo arquivo, crie um script chamado `lint:fix` com o valor `eslint cypress/**/*.js --fix`
3. Por fim, execute o comando `npm run lint` para analisar o c√≥digo existente estaticamente, e caso necess√°rio, execute tamb√©m o comando `npm run lint:fix`

___

Estaticamente est√° tudo certo. Hora de come√ßar a testar! üß™

V√° para a [aula 2](./2.md) e vamos come√ßar testando a funcionalidade de _Sign up_.
